<div class="container">
    <div class="row">
        <div style="padding-left:0;padding-right:0;" class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title text-center">Player Stats Average</h4>
                    </div>
                    <table class="table table-striped align-right">
                        <thead>
                            <tr>
                                <th>Stat</th>
                                <th>Lifetime</th>
                                <th>Average</th>
                            </tr>
                        </thead>
                        <tbody style="border-bottom:2px solid grey;">
                            <tr>
                                <td>Game Time</td>
                                <td>{{ s[m + '_secs'] / 60 / 60 | number:0 }} h</td>
                                <td>{{ s[m + '_avg_time'] | number:0 }} m</td>
                            </tr>
                            <tr>
                                <td>Kills</td>
                                <td>{{ s[m + '_herokills'] | number:0 }}</td>
                                <td>{{ s[m + '_avg_kills'] | number:2 }}</td>
                            </tr>
                            <tr>
                                <td>Deaths</td>
                                <td>{{ s[m + '_deaths'] | number:0 }}</td>
                                <td>{{ s[m + '_avg_deaths'] | number:2 }}</td>
                            </tr>
                            <tr>
                                <td>Assists</td>
                                <td>{{ s[m + '_heroassists'] | number:0 }}</td>
                                <td>{{ s[m + '_avg_assists'] | number:2 }}</td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-striped table-bordered">
                        <tbody>
                            <tr>
                                <td>Kill Death Ratio
                                    <span class="text-muted">(kdr)</span>
                                    <span class="pull-right">{{ s[m + '_kdr'] | number:2 }}</span>
                                </td>
                                <td>
                                    <span class="pull-left">K+A:D</span>
                                    <span class="pull-right">{{ s[m + '_kadr'] | number:2 }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Creep Kills
                                    <span class="text-muted">(cs)</span>
                                    <span class="pull-right">{{ s[m + '_avg_creeps'] | number:1 }}</span>
                                </td>
                                <td>Exp/min
                                    <span class="text-muted">(xpm)</span>
                                    <span class="pull-right">{{ s[m + '_avg_xpm'] | number:1 }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Creep Denies
                                    <span class="text-muted">(cd)</span>
                                    <span class="pull-right">{{ s[m + '_avg_denies'] | number:1 }}</span>
                                </td>
                                <td>Gold/min
                                    <span class="text-muted">(gpm)</span>
                                    <span class="pull-right">{{ s[m + '_avg_gpm'] | number:1 }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Wards
                                    <span class="pull-right">{{ s[m + '_avg_wards'] | number:2 }}</span>
                                </td>
                                <td>Actions/min
                                    <span class="text-muted">(apm)</span>
                                    <span class="pull-right">{{ s[m + '_avg_apm'] | number:1 }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Matches
                                    <span class="pull-right">{{ s[m + '_games_played'] }}</span>
                                </td>
                                <td>Consumables
                                    <span class="pull-right">{{ s[m + '_avg_consumables'] | number:1 }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Ended in CC
                                    <span class="pull-right">{{ s[m + '_concedes'] }}</span>
                                </td>
                                <td>Disconnects
                                    <span class="pull-right">{{ s[m + '_discos'] }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Called for CC
                                    <span class="pull-right">{{ s[m + '_concedevotes'] }}</span>
                                </td>
                                <td>Kicked
                                    <span class="pull-right">{{ s[m + '_kicked'] }}</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title text-center">Special</h4>
                    </div>
                    <table class="table table-striped">
                        <tbody>
                            <tr>
                                <td>Humiliation
                                    <span class="pull-right">{{ s[m + '_humiliation'] }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Smackdown
                                <span class="pull-right">{{ s[m + '_smackdown'] }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Bloodlust
                                <span class="pull-right">{{ s[m + '_bloodlust'] }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Retribution
                                <span class="pull-right">{{ s[m + '_retribution'] }}</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title text-center">Streaks</h4>
                    </div>
                    <table class="table table-striped align-right">
                        <tbody>
                            <tr>
                                <td>Serial Killer
                                    <span class="text-muted">(3)</span>
                                    <span class="pull-right">{{ s[m + '_ks3'] }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Ultimate Warrior
                                    <span class="text-muted">(4)</span>
                                    <span class="pull-right">{{ s[m + '_ks4'] }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Legendary
                                    <span class="text-muted">(5)</span>
                                    <span class="pull-right">{{ s[m + '_ks5'] }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Onslaught
                                    <span class="text-muted">(6)</span>
                                    <span class="pull-right">{{ s[m + '_ks6'] }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Savage Sick
                                    <span class="text-muted">(7)</span>
                                    <span class="pull-right">{{ s[m + '_ks7'] }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Dominating
                                    <span class="text-muted">(8)</span>
                                    <span class="pull-right">{{ s[m + '_ks8'] }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Champion
                                    <span class="text-muted">(9)</span>
                                    <span class="pull-right">{{ s[m + '_ks9'] }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Bloodbath
                                    <span class="text-muted">(10)</span>
                                    <span class="pull-right">{{ s[m + '_ks10'] }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Immortal
                                    <span class="text-muted">(15)</span>
                                    <span class="pull-right">{{ s[m + '_ks15'] }}</span>
                                </td>
                            </tr>
                        </tbody>
                        <tbody style="border-top-color: grey;">
                            <tr>
                                <td>Double Tap
                                    <span class="text-muted">(2x)</span>
                                    <span class="pull-right">{{ s[m + '_doublekill'] }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Hat-Trick
                                    <span class="text-muted">(3x)</span>
                                    <span class="pull-right">{{ s[m + '_triplekill'] }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Quad Kill
                                    <span class="text-muted">(4x)</span>
                                    <span class="pull-right">{{ s[m + '_quadkill'] }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Annihilation
                                    <span class="text-muted">(5x)</span>
                                    <span class="pull-right">{{ s[m + '_annihilation'] }}</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-lg-7 col-md-7 col-sm-12 col-xs-12 text-center" ng-controller="PlayerHistoryController">
            <table id="history" class="table table-header recent-match">
                <thead>
                    <tr>
                        <th class="text-center">Hero lvl</th>
                        <th class="text-center">K/D/A</th>
                        <th class="text-center">APM</th>
                        <th class="text-center">GPM</th>
                        <th class="text-center">+/-</th>
                        <th class="text-center">Date</th>
                        <th class="text-center">Match #</th>
                    </tr>
                </thead>

                <tbody>
                    <tr ng-repeat="(key, match) in history" ng-click="goMatch(match.match_id)" ng-class="{matchloss: !match.win, matchwin: match.win}">
                        <td>
                            <img ng-src="/images/heroes/{{match.hero_id}}/icon_128.jpg">{{ match.level }}</td>
                        <td>{{ match.kills }} / {{ match.deaths }} / {{ match.assists }}</td>
                        <td>{{ match.apm | number:0 }}</td>
                        <td>{{ match.gpm | number:0 }}</td>
                        <td>{{ match.mmr_change | number:0 }}</td>
                        <td>{{ match.date | date:'MMM d h:mm a' }}</td>
                        <td>{{ match.match_id }}</td>
                    </tr>
                </tbody>
            </table>
            </p>
            <p ng-show="nomore">Reached the end of available recent matches</p>
            <a ng-click="previous()" ng-show="currentcount > 1" class="btn btn-default btn-small"><i class="fa fa-arrow-circle-left"></i> Previous</a>
            <a ng-click="next()" ng-show="!nomore" class="btn btn-default btn-small">Next <i class="fa fa-arrow-circle-right"></i></a>
        </div>
    </div>
</div>
